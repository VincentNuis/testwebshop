<div class="user-management">
    <h2>Gebruikersbeheer</h2>
  
    @if (usersSignal().length > 0) {
      <table>
        <thead>
          <tr>
            <th>ID</th>
            <th>Email</th>
            <th>Rollen</th>
            <th>Acties</th>
          </tr>
        </thead>
        <tbody>
          @for (user of usersSignal(); track user.id) {
            <tr>
              <td>{{ user.id }}</td>
              <td>{{ user.email }}</td>
              <td>{{ user.roles.join(', ') }}</td>
              <td>
                <button (click)="removeUser(user.id)">Verwijder</button>
              </td>
            </tr>
          }
        </tbody>
      </table>
    } @else {
      <p>Er zijn geen gebruikers gevonden.</p>
    }
  
    <!-- Formulier om een gebruiker toe te voegen -->
    <div class="add-user">
      <h3>Nieuwe gebruiker toevoegen</h3>
      <form (ngSubmit)="addUser()">
        <input [(ngModel)]="newUserEmail" placeholder="Email" required />
        <select [(ngModel)]="newUserRole" required>
          <option value="user">User</option>
          <option value="admin">Admin</option>
        </select>
        <button type="submit">Voeg gebruiker toe</button>
      </form>
    </div>
  </div>
  